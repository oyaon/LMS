<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Library Management System - Simplified SPA</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React and ReactDOM CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- React Router DOM CDN -->
  <script crossorigin src="https://unpkg.com/react-router-dom@6/umd/react-router-dom.development.js"></script>
</head>
<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/javascript">
    (function() {
      const { BrowserRouter, Routes, Route, Link, useNavigate } = ReactRouterDOM;
      const { useState } = React;

      // Navbar component
      function Navbar({ role }) {
        const commonLinks = [{ name: 'Home', to: '/' }];
        const adminLinks = [
          { name: 'Dashboard', to: '/dashboard' },
          { name: 'Manage Books', to: '/books' },
          { name: 'Reports', to: '/reports' },
        ];
        const memberLinks = [
          { name: 'Search Books', to: '/book-search' },
          { name: 'Borrow Book', to: '/borrow-book' },
          { name: 'Return Book', to: '/return-book' },
          { name: 'My Account', to: '/account' },
        ];

        let links = [...commonLinks];
        if (role === 'admin') {
          links = [...links, ...adminLinks];
        } else if (role === 'member') {
          links = [...links, ...memberLinks];
        }

        return React.createElement('nav', { className: 'bg-blue-600 text-white p-4 shadow-md' },
          React.createElement('ul', { className: 'flex space-x-6' },
            links.map(link =>
              React.createElement('li', { key: link.name },
                React.createElement(Link, { to: link.to, className: 'hover:text-yellow-300 transition-colors duration-200' }, link.name)
              )
            )
          )
        );
      }

      // BookCard component
      function BookCard({ title, author, isbn, status, onBorrow }) {
        return React.createElement('div', { className: 'border rounded-md p-4 shadow hover:shadow-lg transition-shadow duration-200' },
          React.createElement('h2', { className: 'text-xl font-semibold mb-2' }, title),
          React.createElement('p', { className: 'text-gray-700 mb-1' }, React.createElement('strong', null, 'Author:'), ' ', author),
          React.createElement('p', { className: 'text-gray-700 mb-1' }, React.createElement('strong', null, 'ISBN:'), ' ', isbn),
          React.createElement('p', {
            className: 'mb-3 font-semibold ' + (status === 'available' ? 'text-green-600' : 'text-red-600')
          }, 'Status: ', status.charAt(0).toUpperCase() + status.slice(1)),
          status === 'available' ?
            React.createElement('button', {
              onClick: onBorrow,
              className: 'bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors duration-200'
            }, 'Borrow') :
            React.createElement('button', {
              disabled: true,
              className: 'bg-gray-400 text-white px-4 py-2 rounded cursor-not-allowed'
            }, 'Not Available')
        );
      }

      // Home page
      function Home() {
        return React.createElement('div', { className: 'p-6' },
          React.createElement('h1', { className: 'text-3xl font-bold mb-4' }, 'Welcome to the Library Management System'),
          React.createElement('p', null, 'Use the navigation bar to explore the app.')
        );
      }

      // Login page
      function Login() {
        const navigate = useNavigate();
        const [username, setUsername] = useState('');
        const [role, setRole] = useState('guest');

        function handleLogin(e) {
          e.preventDefault();
          alert(`Logged in as ${username} with role ${role}`);
          navigate('/');
        }

        return React.createElement('form', { onSubmit: handleLogin, className: 'p-6 max-w-md mx-auto' },
          React.createElement('h2', { className: 'text-2xl font-bold mb-4' }, 'Login'),
          React.createElement('label', { className: 'block mb-2' }, 'Username:'),
          React.createElement('input', {
            type: 'text',
            value: username,
            onChange: e => setUsername(e.target.value),
            className: 'w-full border rounded px-3 py-2 mb-4'
          }),
          React.createElement('label', { className: 'block mb-2' }, 'Role:'),
          React.createElement('select', {
            value: role,
            onChange: e => setRole(e.target.value),
            className: 'w-full border rounded px-3 py-2 mb-4'
          },
            React.createElement('option', { value: 'guest' }, 'Guest'),
            React.createElement('option', { value: 'member' }, 'Member'),
            React.createElement('option', { value: 'admin' }, 'Admin')
          ),
          React.createElement('button', {
            type: 'submit',
            className: 'bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors duration-200'
          }, 'Login')
        );
      }

      // BookSearch page
      function BookSearch() {
        const [books, setBooks] = useState([
          { id: 1, title: 'Book One', author: 'Author A', isbn: '1234567890', status: 'available' },
          { id: 2, title: 'Book Two', author: 'Author B', isbn: '0987654321', status: 'borrowed' },
        ]);

        function handleBorrow(id) {
          alert(`Borrow book with id ${id}`);
          setBooks(books.map(book => book.id === id ? { ...book, status: 'borrowed' } : book));
        }

        return React.createElement('div', { className: 'p-6' },
          React.createElement('h2', { className: 'text-2xl font-bold mb-4' }, 'Book Search'),
          React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
            books.map(book =>
              React.createElement(BookCard, {
                key: book.id,
                title: book.title,
                author: book.author,
                isbn: book.isbn,
                status: book.status,
                onBorrow: () => handleBorrow(book.id)
              })
            )
          )
        );
      }

      // Main App component
      function App() {
        const [role, setRole] = useState('guest');

        return React.createElement(BrowserRouter, null,
          React.createElement(Navbar, { role }),
          React.createElement('div', { className: 'max-w-4xl mx-auto mt-6 bg-white p-6 rounded shadow' },
            React.createElement(Routes, null,
              React.createElement(Route, { path: '/', element: React.createElement(Home) }),
              React.createElement(Route, { path: '/login', element: React.createElement(Login) }),
              React.createElement(Route, { path: '/book-search', element: React.createElement(BookSearch) }),
              React.createElement(Route, { path: '*', element: React.createElement('div', null, 'Page Not Found') })
            )
          )
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(App));
    })();
  </script>
</body>
</html>
